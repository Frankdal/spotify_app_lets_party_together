function cov_2931p54gwd(){var path="D:\\Mag\\lets_party_together\\potential-badass-app\\server\\server.js";var hash="d64037f144801fd42d7d216c24cc5be59b5584e7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Mag\\lets_party_together\\potential-badass-app\\server\\server.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:14},end:{line:2,column:30}},"2":{start:{line:3,column:19},end:{line:3,column:41}},"3":{start:{line:4,column:20},end:{line:4,column:47}},"4":{start:{line:5,column:16},end:{line:5,column:44}},"5":{start:{line:6,column:16},end:{line:6,column:34}},"6":{start:{line:7,column:20},end:{line:7,column:52}},"7":{start:{line:9,column:12},end:{line:9,column:21}},"8":{start:{line:11,column:0},end:{line:11,column:50}},"9":{start:{line:12,column:0},end:{line:12,column:27}},"10":{start:{line:14,column:18},end:{line:14,column:52}},"11":{start:{line:16,column:0},end:{line:18,column:3}},"12":{start:{line:17,column:4},end:{line:17,column:42}},"13":{start:{line:21,column:4},end:{line:21,column:61}},"14":{start:{line:22,column:4},end:{line:22,column:67}},"15":{start:{line:23,column:4},end:{line:24,column:67}},"16":{start:{line:24,column:8},end:{line:24,column:67}},"17":{start:{line:27,column:0},end:{line:56,column:6}},"18":{start:{line:29,column:8},end:{line:29,column:45}},"19":{start:{line:30,column:24},end:{line:30,column:37}},"20":{start:{line:31,column:21},end:{line:31,column:36}},"21":{start:{line:32,column:20},end:{line:32,column:34}},"22":{start:{line:33,column:8},end:{line:38,column:9}},"23":{start:{line:34,column:12},end:{line:34,column:29}},"24":{start:{line:35,column:12},end:{line:35,column:46}},"25":{start:{line:37,column:12},end:{line:37,column:23}},"26":{start:{line:39,column:8},end:{line:48,column:9}},"27":{start:{line:40,column:26},end:{line:40,column:81}},"28":{start:{line:41,column:32},end:{line:41,column:34}},"29":{start:{line:42,column:12},end:{line:42,column:43}},"30":{start:{line:43,column:12},end:{line:43,column:51}},"31":{start:{line:46,column:25},end:{line:46,column:49}},"32":{start:{line:47,column:12},end:{line:47,column:47}},"33":{start:{line:51,column:8},end:{line:51,column:45}},"34":{start:{line:52,column:23},end:{line:52,column:36}},"35":{start:{line:53,column:19},end:{line:53,column:48}},"36":{start:{line:54,column:8},end:{line:55,column:56}},"37":{start:{line:54,column:26},end:{line:54,column:67}},"38":{start:{line:55,column:13},end:{line:55,column:56}},"39":{start:{line:58,column:0},end:{line:66,column:2}},"40":{start:{line:59,column:4},end:{line:59,column:42}},"41":{start:{line:60,column:14},end:{line:60,column:27}},"42":{start:{line:61,column:13},end:{line:61,column:30}},"43":{start:{line:62,column:16},end:{line:62,column:40}},"44":{start:{line:63,column:17},end:{line:63,column:54}},"45":{start:{line:64,column:4},end:{line:64,column:74}},"46":{start:{line:64,column:23},end:{line:64,column:74}},"47":{start:{line:65,column:4},end:{line:65,column:21}},"48":{start:{line:68,column:0},end:{line:147,column:6}},"49":{start:{line:70,column:8},end:{line:70,column:49}},"50":{start:{line:71,column:22},end:{line:71,column:38}},"51":{start:{line:72,column:23},end:{line:72,column:40}},"52":{start:{line:74,column:25},end:{line:74,column:59}},"53":{start:{line:75,column:20},end:{line:75,column:49}},"54":{start:{line:76,column:21},end:{line:76,column:82}},"55":{start:{line:77,column:8},end:{line:77,column:155}},"56":{start:{line:77,column:58},end:{line:77,column:155}},"57":{start:{line:79,column:19},end:{line:79,column:68}},"58":{start:{line:81,column:8},end:{line:81,column:112}},"59":{start:{line:81,column:24},end:{line:81,column:112}},"60":{start:{line:82,column:8},end:{line:82,column:58}},"61":{start:{line:82,column:28},end:{line:82,column:58}},"62":{start:{line:84,column:8},end:{line:137,column:9}},"63":{start:{line:86,column:27},end:{line:86,column:29}},"64":{start:{line:87,column:8},end:{line:89,column:11}},"65":{start:{line:88,column:12},end:{line:88,column:42}},"66":{start:{line:90,column:23},end:{line:90,column:73}},"67":{start:{line:91,column:8},end:{line:91,column:117}},"68":{start:{line:91,column:28},end:{line:91,column:117}},"69":{start:{line:93,column:8},end:{line:93,column:18}},"70":{start:{line:94,column:8},end:{line:99,column:10}},"71":{start:{line:95,column:26},end:{line:95,column:28}},"72":{start:{line:96,column:12},end:{line:96,column:41}},"73":{start:{line:97,column:12},end:{line:97,column:35}},"74":{start:{line:98,column:12},end:{line:98,column:31}},"75":{start:{line:102,column:8},end:{line:102,column:49}},"76":{start:{line:103,column:8},end:{line:103,column:56}},"77":{start:{line:107,column:23},end:{line:107,column:25}},"78":{start:{line:109,column:8},end:{line:111,column:9}},"79":{start:{line:110,column:12},end:{line:110,column:29}},"80":{start:{line:114,column:8},end:{line:116,column:9}},"81":{start:{line:115,column:12},end:{line:115,column:84}},"82":{start:{line:121,column:24},end:{line:121,column:26}},"83":{start:{line:122,column:8},end:{line:126,column:11}},"84":{start:{line:123,column:12},end:{line:125,column:14}},"85":{start:{line:124,column:16},end:{line:124,column:40}},"86":{start:{line:130,column:32},end:{line:130,column:96}},"87":{start:{line:131,column:8},end:{line:131,column:69}},"88":{start:{line:134,column:34},end:{line:134,column:94}},"89":{start:{line:136,column:12},end:{line:136,column:77}},"90":{start:{line:140,column:8},end:{line:140,column:48}},"91":{start:{line:141,column:22},end:{line:141,column:39}},"92":{start:{line:142,column:25},end:{line:142,column:59}},"93":{start:{line:143,column:20},end:{line:143,column:49}},"94":{start:{line:144,column:19},end:{line:144,column:68}},"95":{start:{line:145,column:8},end:{line:146,column:40}},"96":{start:{line:145,column:24},end:{line:145,column:73}},"97":{start:{line:146,column:13},end:{line:146,column:40}},"98":{start:{line:149,column:0},end:{line:151,column:3}},"99":{start:{line:150,column:4},end:{line:150,column:47}},"100":{start:{line:153,column:0},end:{line:153,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:19},end:{line:16,column:20}},loc:{start:{line:16,column:34},end:{line:18,column:1}},line:16},"1":{name:"printReq",decl:{start:{line:20,column:9},end:{line:20,column:17}},loc:{start:{line:20,column:23},end:{line:25,column:1}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:9},end:{line:28,column:10}},loc:{start:{line:28,column:29},end:{line:49,column:5}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:9},end:{line:50,column:10}},loc:{start:{line:50,column:24},end:{line:56,column:5}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:58,column:19},end:{line:58,column:20}},loc:{start:{line:58,column:40},end:{line:66,column:1}},line:58},"5":{name:"(anonymous_5)",decl:{start:{line:69,column:10},end:{line:69,column:11}},loc:{start:{line:69,column:31},end:{line:138,column:5}},line:69},"6":{name:"(anonymous_6)",decl:{start:{line:87,column:21},end:{line:87,column:22}},loc:{start:{line:87,column:30},end:{line:89,column:9}},line:87},"7":{name:"(anonymous_7)",decl:{start:{line:94,column:40},end:{line:94,column:41}},loc:{start:{line:94,column:47},end:{line:99,column:9}},line:94},"8":{name:"(anonymous_8)",decl:{start:{line:122,column:25},end:{line:122,column:26}},loc:{start:{line:122,column:36},end:{line:126,column:9}},line:122},"9":{name:"(anonymous_9)",decl:{start:{line:123,column:28},end:{line:123,column:29}},loc:{start:{line:123,column:39},end:{line:125,column:13}},line:123},"10":{name:"(anonymous_10)",decl:{start:{line:139,column:9},end:{line:139,column:10}},loc:{start:{line:139,column:30},end:{line:147,column:5}},line:139},"11":{name:"(anonymous_11)",decl:{start:{line:149,column:17},end:{line:149,column:18}},loc:{start:{line:149,column:24},end:{line:151,column:1}},line:149}},branchMap:{"0":{loc:{start:{line:23,column:4},end:{line:24,column:67}},type:"if",locations:[{start:{line:23,column:4},end:{line:24,column:67}},{start:{line:23,column:4},end:{line:24,column:67}}],line:23},"1":{loc:{start:{line:33,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:38,column:9}},{start:{line:33,column:8},end:{line:38,column:9}}],line:33},"2":{loc:{start:{line:33,column:13},end:{line:33,column:46}},type:"binary-expr",locations:[{start:{line:33,column:13},end:{line:33,column:23}},{start:{line:33,column:28},end:{line:33,column:35}},{start:{line:33,column:40},end:{line:33,column:46}}],line:33},"3":{loc:{start:{line:46,column:25},end:{line:46,column:49}},type:"cond-expr",locations:[{start:{line:46,column:35},end:{line:46,column:43}},{start:{line:46,column:46},end:{line:46,column:49}}],line:46},"4":{loc:{start:{line:54,column:8},end:{line:55,column:56}},type:"if",locations:[{start:{line:54,column:8},end:{line:55,column:56}},{start:{line:54,column:8},end:{line:55,column:56}}],line:54},"5":{loc:{start:{line:64,column:4},end:{line:64,column:74}},type:"if",locations:[{start:{line:64,column:4},end:{line:64,column:74}},{start:{line:64,column:4},end:{line:64,column:74}}],line:64},"6":{loc:{start:{line:77,column:8},end:{line:77,column:155}},type:"if",locations:[{start:{line:77,column:8},end:{line:77,column:155}},{start:{line:77,column:8},end:{line:77,column:155}}],line:77},"7":{loc:{start:{line:77,column:12},end:{line:77,column:56}},type:"binary-expr",locations:[{start:{line:77,column:12},end:{line:77,column:32}},{start:{line:77,column:36},end:{line:77,column:56}}],line:77},"8":{loc:{start:{line:81,column:8},end:{line:81,column:112}},type:"if",locations:[{start:{line:81,column:8},end:{line:81,column:112}},{start:{line:81,column:8},end:{line:81,column:112}}],line:81},"9":{loc:{start:{line:82,column:8},end:{line:82,column:58}},type:"if",locations:[{start:{line:82,column:8},end:{line:82,column:58}},{start:{line:82,column:8},end:{line:82,column:58}}],line:82},"10":{loc:{start:{line:84,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:137,column:9}},{start:{line:84,column:8},end:{line:137,column:9}}],line:84},"11":{loc:{start:{line:91,column:8},end:{line:91,column:117}},type:"if",locations:[{start:{line:91,column:8},end:{line:91,column:117}},{start:{line:91,column:8},end:{line:91,column:117}}],line:91},"12":{loc:{start:{line:145,column:8},end:{line:146,column:40}},type:"if",locations:[{start:{line:145,column:8},end:{line:146,column:40}},{start:{line:145,column:8},end:{line:146,column:40}}],line:145}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d64037f144801fd42d7d216c24cc5be59b5584e7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2931p54gwd=function(){return actualCoverage;};}return actualCoverage;}cov_2931p54gwd();const express=(cov_2931p54gwd().s[0]++,require("express"));const https=(cov_2931p54gwd().s[1]++,require("https"));const bodyParser=(cov_2931p54gwd().s[2]++,require('body-parser'));const dataService=(cov_2931p54gwd().s[3]++,require("./db/dataService"));const spotify=(cov_2931p54gwd().s[4]++,require("./plugins/spotify"));const skmeans=(cov_2931p54gwd().s[5]++,require("skmeans"));const listManager=(cov_2931p54gwd().s[6]++,require("./plugins/listManager"));const app=(cov_2931p54gwd().s[7]++,express());cov_2931p54gwd().s[8]++;app.use(bodyParser.urlencoded({extended:true}));cov_2931p54gwd().s[9]++;app.use(bodyParser.json());const client_id=(cov_2931p54gwd().s[10]++,'5a7933f0c4da42ae8a33a0041257cbfd');cov_2931p54gwd().s[11]++;app.get('/status',(req,res)=>{cov_2931p54gwd().f[0]++;cov_2931p54gwd().s[12]++;res.send('<h1>Server is running<h1>');});function printReq(req){cov_2931p54gwd().f[1]++;cov_2931p54gwd().s[13]++;console.log('Request body: '+JSON.stringify(req.body));cov_2931p54gwd().s[14]++;console.log('Request headers: '+JSON.stringify(req.headers));cov_2931p54gwd().s[15]++;if(req.query){cov_2931p54gwd().b[0][0]++;cov_2931p54gwd().s[16]++;console.log('Request query: '+JSON.stringify(req.query));}else{cov_2931p54gwd().b[0][1]++;}}cov_2931p54gwd().s[17]++;app.route('/party').put(async(req,res)=>{cov_2931p54gwd().f[2]++;cov_2931p54gwd().s[18]++;console.log("put request on /party");let partyName=(cov_2931p54gwd().s[19]++,req.body.name);let userId=(cov_2931p54gwd().s[20]++,req.body.userId);let token=(cov_2931p54gwd().s[21]++,req.body.token);cov_2931p54gwd().s[22]++;if((cov_2931p54gwd().b[2][0]++,!partyName)||(cov_2931p54gwd().b[2][1]++,!userId)||(cov_2931p54gwd().b[2][2]++,!token)){cov_2931p54gwd().b[1][0]++;cov_2931p54gwd().s[23]++;res.status=400;cov_2931p54gwd().s[24]++;res.statusMessage='Bad Request';// console.log(req.body); 
cov_2931p54gwd().s[25]++;res.send();}else{cov_2931p54gwd().b[1][1]++;}cov_2931p54gwd().s[26]++;try{let partyId=(cov_2931p54gwd().s[27]++,await dataService.createParty(partyName,userId,token));let responseData=(cov_2931p54gwd().s[28]++,{});cov_2931p54gwd().s[29]++;responseData.partyId=partyId;cov_2931p54gwd().s[30]++;res.send(JSON.stringify(responseData));}catch(e){let status=(cov_2931p54gwd().s[31]++,e.status?(cov_2931p54gwd().b[3][0]++,e.status):(cov_2931p54gwd().b[3][1]++,500));cov_2931p54gwd().s[32]++;res.status(status).send(e.message);}}).get((req,res)=>{cov_2931p54gwd().f[3]++;cov_2931p54gwd().s[33]++;console.log('get request on /party');let partyIds=(cov_2931p54gwd().s[34]++,req.query.ids);let info=(cov_2931p54gwd().s[35]++,dataService.getInfo(partyIds));cov_2931p54gwd().s[36]++;if(!info.length){cov_2931p54gwd().b[4][0]++;cov_2931p54gwd().s[37]++;res.status(404).send("Party not found.");}else{cov_2931p54gwd().b[4][1]++;cov_2931p54gwd().s[38]++;res.status(200).send(JSON.stringify(info));}});cov_2931p54gwd().s[39]++;app.get('/search',async(req,res)=>{cov_2931p54gwd().f[4]++;cov_2931p54gwd().s[40]++;console.log('get request on /search');let key=(cov_2931p54gwd().s[41]++,req.query.key);let id=(cov_2931p54gwd().s[42]++,req.query.partyId);let token=(cov_2931p54gwd().s[43]++,dataService.getToken(id));let tracks=(cov_2931p54gwd().s[44]++,await spotify.searchTrack(key,token));cov_2931p54gwd().s[45]++;if(tracks.status){cov_2931p54gwd().b[5][0]++;cov_2931p54gwd().s[46]++;res.status(track.status).send(track.statusMessage);}else{cov_2931p54gwd().b[5][1]++;}cov_2931p54gwd().s[47]++;res.send(tracks);});cov_2931p54gwd().s[48]++;app.route('/playlist').post(async(req,res)=>{cov_2931p54gwd().f[5]++;cov_2931p54gwd().s[49]++;console.log('post request on /playlist');let partyId=(cov_2931p54gwd().s[50]++,req.body.partyId);let trackUri=(cov_2931p54gwd().s[51]++,req.body.trackUri);// console.log(req.body); 
let playlistId=(cov_2931p54gwd().s[52]++,dataService.getPlaylistId(partyId));let token=(cov_2931p54gwd().s[53]++,dataService.getToken(partyId));let result=(cov_2931p54gwd().s[54]++,await spotify.addTrackToPlaylist(playlistId,token,trackUri));cov_2931p54gwd().s[55]++;if((cov_2931p54gwd().b[7][0]++,result.status!=200)&&(cov_2931p54gwd().b[7][1]++,result.status!=201)){cov_2931p54gwd().b[6][0]++;cov_2931p54gwd().s[56]++;res.status(result.status).send("Couldn't post the song on the Playlist "+result.statusMessage);}else{cov_2931p54gwd().b[6][1]++;}let data=(cov_2931p54gwd().s[57]++,await spotify.getPlaylistItems(playlistId,token));// console.log(data); 
cov_2931p54gwd().s[58]++;if(data.status){cov_2931p54gwd().b[8][0]++;cov_2931p54gwd().s[59]++;res.status(data.status).send("Couldn't get songs from playlist: "+data.statusMessage);}else{cov_2931p54gwd().b[8][1]++;}cov_2931p54gwd().s[60]++;if(data.length<4){cov_2931p54gwd().b[9][0]++;cov_2931p54gwd().s[61]++;return res.status(200).send();}else{cov_2931p54gwd().b[9][1]++;}cov_2931p54gwd().s[62]++;if(false){cov_2931p54gwd().b[10][0]++;let trackIds=(cov_2931p54gwd().s[63]++,[]);cov_2931p54gwd().s[64]++;data.forEach(track=>{cov_2931p54gwd().f[6]++;cov_2931p54gwd().s[65]++;trackIds.push(track.track.id);});let features=(cov_2931p54gwd().s[66]++,await spotify.getFeaturesOfTracks(trackIds,token));cov_2931p54gwd().s[67]++;if(features.status){cov_2931p54gwd().b[11][0]++;cov_2931p54gwd().s[68]++;res.status(features.status).send("Couldn't get the features: "+features.statusMessage);}else{cov_2931p54gwd().b[11][1]++;}// console.log(features); 
cov_2931p54gwd().s[69]++;data=[];cov_2931p54gwd().s[70]++;features.audio_features.forEach(f=>{cov_2931p54gwd().f[7]++;let newData=(cov_2931p54gwd().s[71]++,[]);cov_2931p54gwd().s[72]++;newData.push(f.danceability);cov_2931p54gwd().s[73]++;newData.push(f.energy);cov_2931p54gwd().s[74]++;data.push(newData);});// console.log(data); 
cov_2931p54gwd().s[75]++;numOfClusters=Math.ceil(data.length/3);cov_2931p54gwd().s[76]++;clusteringResult=skmeans(data,numOfClusters);// console.log('Clustering result: '); 
// console.log(clusteringResult); 
let clusters=(cov_2931p54gwd().s[77]++,[]);cov_2931p54gwd().s[78]++;for(i=0;i<numOfClusters;i++){cov_2931p54gwd().s[79]++;clusters[i]=[];}// console.log(features.audio_features.length); 
cov_2931p54gwd().s[80]++;for(i=0;i<features.audio_features.length;i++){cov_2931p54gwd().s[81]++;clusters[clusteringResult.idxs[i]].push(features.audio_features[i].uri);}// console.log('Clusters: ');
// console.log(clusters);  
let trackUris=(cov_2931p54gwd().s[82]++,[]);cov_2931p54gwd().s[83]++;clusters.forEach(cluster=>{cov_2931p54gwd().f[8]++;cov_2931p54gwd().s[84]++;cluster.forEach(element=>{cov_2931p54gwd().f[9]++;cov_2931p54gwd().s[85]++;trackUris.push(element);});});// console.log('Songs uris: ');
// console.log(trackUris); 
let replacementResult=(cov_2931p54gwd().s[86]++,await spotify.replacePlaylistSongs(playlistId,trackUris,token));cov_2931p54gwd().s[87]++;res.status(replacementResult.status).send(replacementResult);}else{cov_2931p54gwd().b[10][1]++;let rearrangeResult=(cov_2931p54gwd().s[88]++,await listManager.rearrangePlaylist(playlistId,token,data));// console.log(rearrangeResult);  
cov_2931p54gwd().s[89]++;res.status(rearrangeResult.status).send(rearrangeResult.message);}}).get(async(req,res)=>{cov_2931p54gwd().f[10]++;cov_2931p54gwd().s[90]++;console.log('get request on /playlist');let partyId=(cov_2931p54gwd().s[91]++,req.query.partyId);let playlistId=(cov_2931p54gwd().s[92]++,dataService.getPlaylistId(partyId));let token=(cov_2931p54gwd().s[93]++,dataService.getToken(partyId));let data=(cov_2931p54gwd().s[94]++,await spotify.getPlaylistItems(playlistId,token));cov_2931p54gwd().s[95]++;if(data.status){cov_2931p54gwd().b[12][0]++;cov_2931p54gwd().s[96]++;res.status(data.status).send(data.statusMessage);}else{cov_2931p54gwd().b[12][1]++;cov_2931p54gwd().s[97]++;res.status(200).send(data);}});cov_2931p54gwd().s[98]++;app.listen(8124,()=>{cov_2931p54gwd().f[11]++;cov_2931p54gwd().s[99]++;console.log('server started on port 8124');});cov_2931p54gwd().s[100]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImh0dHBzIiwiYm9keVBhcnNlciIsImRhdGFTZXJ2aWNlIiwic3BvdGlmeSIsInNrbWVhbnMiLCJsaXN0TWFuYWdlciIsImFwcCIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJjbGllbnRfaWQiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwicHJpbnRSZXEiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImJvZHkiLCJoZWFkZXJzIiwicXVlcnkiLCJyb3V0ZSIsInB1dCIsInBhcnR5TmFtZSIsIm5hbWUiLCJ1c2VySWQiLCJ0b2tlbiIsInN0YXR1cyIsInN0YXR1c01lc3NhZ2UiLCJwYXJ0eUlkIiwiY3JlYXRlUGFydHkiLCJyZXNwb25zZURhdGEiLCJlIiwibWVzc2FnZSIsInBhcnR5SWRzIiwiaWRzIiwiaW5mbyIsImdldEluZm8iLCJsZW5ndGgiLCJrZXkiLCJpZCIsImdldFRva2VuIiwidHJhY2tzIiwic2VhcmNoVHJhY2siLCJ0cmFjayIsInBvc3QiLCJ0cmFja1VyaSIsInBsYXlsaXN0SWQiLCJnZXRQbGF5bGlzdElkIiwicmVzdWx0IiwiYWRkVHJhY2tUb1BsYXlsaXN0IiwiZGF0YSIsImdldFBsYXlsaXN0SXRlbXMiLCJ0cmFja0lkcyIsImZvckVhY2giLCJwdXNoIiwiZmVhdHVyZXMiLCJnZXRGZWF0dXJlc09mVHJhY2tzIiwiYXVkaW9fZmVhdHVyZXMiLCJmIiwibmV3RGF0YSIsImRhbmNlYWJpbGl0eSIsImVuZXJneSIsIm51bU9mQ2x1c3RlcnMiLCJNYXRoIiwiY2VpbCIsImNsdXN0ZXJpbmdSZXN1bHQiLCJjbHVzdGVycyIsImkiLCJpZHhzIiwidXJpIiwidHJhY2tVcmlzIiwiY2x1c3RlciIsImVsZW1lbnQiLCJyZXBsYWNlbWVudFJlc3VsdCIsInJlcGxhY2VQbGF5bGlzdFNvbmdzIiwicmVhcnJhbmdlUmVzdWx0Iiwi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S0FBSixDQUFVUyxPQUFiLENBQVgsQ0FDQSxHQUFJa0IsQ0FBQUEsVUFBVSwyQkFBR2hELFdBQVcsQ0FBQ2lELGFBQVosQ0FBMEJuQixPQUExQixDQUFILENBQWQsQ0FDQSxHQUFJSCxDQUFBQSxLQUFLLDJCQUFHM0IsV0FBVyxDQUFDMEMsUUFBWixDQUFxQlosT0FBckIsQ0FBSCxDQUFULENBQ0EsR0FBSXNCLENBQUFBLElBQUksMkJBQUcsS0FBTW5ELENBQUFBLE9BQU8sQ0FBQ29ELGdCQUFSLENBQXlCTCxVQUF6QixDQUFxQ3JCLEtBQXJDLENBQVQsQ0FBUixDQUxzQix5QkFNdEIsR0FBR3lCLElBQUksQ0FBQ3hCLE1BQVIsQ0FBZ0Isc0RBQUFoQixHQUFHLENBQUNnQixNQUFKLENBQVd3QixJQUFJLENBQUN4QixNQUFoQixFQUF3QmYsSUFBeEIsQ0FBNkJ1QyxJQUFJLENBQUN2QixhQUFsQyxFQUFpRCxDQUFqRSxJQUNLLHNEQUFBakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JmLElBQWhCLENBQXFCdUMsSUFBckIsRUFBMkIsQ0FDbkMsQ0EvRUwsRSx5QkFpRkFoRCxHQUFHLENBQUMyRSxNQUFKLENBQVcsSUFBWCxDQUFpQixJQUFPLG1EQUNwQmhFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZCQUFaLEVBQ0gsQ0FGRCxFLDBCQUlBZ0UsTUFBTSxDQUFDQyxPQUFQLENBQWlCN0UsR0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IFxyXG5jb25zdCBodHRwcyA9IHJlcXVpcmUoXCJodHRwc1wiKTsgXHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpOyBcclxuY29uc3QgZGF0YVNlcnZpY2UgPSByZXF1aXJlKFwiLi9kYi9kYXRhU2VydmljZVwiKTsgXHJcbmNvbnN0IHNwb3RpZnkgPSByZXF1aXJlKFwiLi9wbHVnaW5zL3Nwb3RpZnlcIik7IFxyXG5jb25zdCBza21lYW5zID0gcmVxdWlyZShcInNrbWVhbnNcIik7IFxyXG5jb25zdCBsaXN0TWFuYWdlciA9IHJlcXVpcmUoXCIuL3BsdWdpbnMvbGlzdE1hbmFnZXJcIilcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgXHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCgge2V4dGVuZGVkOnRydWUgfSkpOyBcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7IFxyXG5cclxuY29uc3QgY2xpZW50X2lkID0gJzVhNzkzM2YwYzRkYTQyYWU4YTMzYTAwNDEyNTdjYmZkJzsgXHJcblxyXG5hcHAuZ2V0KCcvc3RhdHVzJywgKHJlcSwgcmVzKSA9PiAge1xyXG4gICAgcmVzLnNlbmQoJzxoMT5TZXJ2ZXIgaXMgcnVubmluZzxoMT4nKTsgXHJcbn0pOyBcclxuXHJcbmZ1bmN0aW9uIHByaW50UmVxKHJlcSkge1xyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3QgYm9keTogJyArIEpTT04uc3RyaW5naWZ5KHJlcS5ib2R5KSk7IFxyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3QgaGVhZGVyczogJyArIEpTT04uc3RyaW5naWZ5KHJlcS5oZWFkZXJzKSk7IFxyXG4gICAgaWYocmVxLnF1ZXJ5KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IHF1ZXJ5OiAnICsgSlNPTi5zdHJpbmdpZnkocmVxLnF1ZXJ5KSk7IFxyXG59XHJcblxyXG5hcHAucm91dGUoJy9wYXJ0eScpXHJcbiAgICAucHV0KGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicHV0IHJlcXVlc3Qgb24gL3BhcnR5XCIpOyBcclxuICAgICAgICBsZXQgcGFydHlOYW1lID0gcmVxLmJvZHkubmFtZTsgXHJcbiAgICAgICAgbGV0IHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZDsgXHJcbiAgICAgICAgbGV0IHRva2VuID0gcmVxLmJvZHkudG9rZW47IFxyXG4gICAgICAgIGlmICggIXBhcnR5TmFtZSB8fCAgIXVzZXJJZCB8fCAgIXRva2VuKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA0MDA7IFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzTWVzc2FnZSA9ICdCYWQgUmVxdWVzdCc7IFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXEuYm9keSk7IFxyXG4gICAgICAgICAgICByZXMuc2VuZCgpOyBcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHBhcnR5SWQgPSBhd2FpdCBkYXRhU2VydmljZS5jcmVhdGVQYXJ0eShwYXJ0eU5hbWUsIHVzZXJJZCwgdG9rZW4pOyBcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9ICB7fVxyXG4gICAgICAgICAgICByZXNwb25zZURhdGEucGFydHlJZCA9IHBhcnR5SWQ7IFxyXG4gICAgICAgICAgICByZXMuc2VuZChKU09OLnN0cmluZ2lmeShyZXNwb25zZURhdGEpKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSBlLnN0YXR1cz8gZS5zdGF0dXMgOiA1MDA7IFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZChlLm1lc3NhZ2UpOyBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmdldCgocmVxLCByZXMpID0+ICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2dldCByZXF1ZXN0IG9uIC9wYXJ0eScpO1xyXG4gICAgICAgIGxldCBwYXJ0eUlkcyA9IHJlcS5xdWVyeS5pZHM7IFxyXG4gICAgICAgIGxldCBpbmZvID0gZGF0YVNlcnZpY2UuZ2V0SW5mbyhwYXJ0eUlkcyk7IFxyXG4gICAgICAgIGlmICghaW5mby5sZW5ndGgpIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiUGFydHkgbm90IGZvdW5kLlwiKTsgXHJcbiAgICAgICAgZWxzZSByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShpbmZvKSk7IFxyXG4gICAgfSlcclxuXHJcbmFwcC5nZXQoJy9zZWFyY2gnLCBhc3luYyAocmVxLCByZXMpID0+ICB7XHJcbiAgICBjb25zb2xlLmxvZygnZ2V0IHJlcXVlc3Qgb24gL3NlYXJjaCcpOyBcclxuICAgIGxldCBrZXkgPSByZXEucXVlcnkua2V5OyBcclxuICAgIGxldCBpZCA9IHJlcS5xdWVyeS5wYXJ0eUlkOyBcclxuICAgIGxldCB0b2tlbiA9IGRhdGFTZXJ2aWNlLmdldFRva2VuKGlkKTsgXHJcbiAgICBsZXQgdHJhY2tzID0gYXdhaXQgc3BvdGlmeS5zZWFyY2hUcmFjayhrZXksIHRva2VuKTsgXHJcbiAgICBpZiAodHJhY2tzLnN0YXR1cykgcmVzLnN0YXR1cyh0cmFjay5zdGF0dXMpLnNlbmQodHJhY2suc3RhdHVzTWVzc2FnZSk7IFxyXG4gICAgcmVzLnNlbmQodHJhY2tzKTsgXHJcbn0pXHJcblxyXG5hcHAucm91dGUoJy9wbGF5bGlzdCcpXHJcbiAgICAucG9zdChhc3luYyAocmVxLCByZXMpID0+ICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Bvc3QgcmVxdWVzdCBvbiAvcGxheWxpc3QnKTsgXHJcbiAgICAgICAgbGV0IHBhcnR5SWQgPSByZXEuYm9keS5wYXJ0eUlkOyBcclxuICAgICAgICBsZXQgdHJhY2tVcmkgPSByZXEuYm9keS50cmFja1VyaTsgXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkpOyBcclxuICAgICAgICBsZXQgcGxheWxpc3RJZCA9IGRhdGFTZXJ2aWNlLmdldFBsYXlsaXN0SWQocGFydHlJZCk7IFxyXG4gICAgICAgIGxldCB0b2tlbiA9IGRhdGFTZXJ2aWNlLmdldFRva2VuKHBhcnR5SWQpOyBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3BvdGlmeS5hZGRUcmFja1RvUGxheWxpc3QocGxheWxpc3RJZCwgdG9rZW4sIHRyYWNrVXJpKTsgXHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gMjAwICYmIHJlc3VsdC5zdGF0dXMgIT0gMjAxKSByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXMpLnNlbmQoXCJDb3VsZG4ndCBwb3N0IHRoZSBzb25nIG9uIHRoZSBQbGF5bGlzdCBcIiArIHJlc3VsdC5zdGF0dXNNZXNzYWdlKTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBzcG90aWZ5LmdldFBsYXlsaXN0SXRlbXMocGxheWxpc3RJZCwgdG9rZW4pOyBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsgXHJcbiAgICAgICAgaWYoZGF0YS5zdGF0dXMpIHJlcy5zdGF0dXMoZGF0YS5zdGF0dXMpLnNlbmQoXCJDb3VsZG4ndCBnZXQgc29uZ3MgZnJvbSBwbGF5bGlzdDogXCIgKyBkYXRhLnN0YXR1c01lc3NhZ2UpOyBcclxuICAgICAgICBpZihkYXRhLmxlbmd0aCA8IDQpIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCgpOyBcclxuXHJcbiAgICAgICAgaWYgKGZhbHNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRyYWNrSWRzID0gW107IFxyXG4gICAgICAgIGRhdGEuZm9yRWFjaCh0cmFjayA9PiB7XHJcbiAgICAgICAgICAgIHRyYWNrSWRzLnB1c2godHJhY2sudHJhY2suaWQpOyBcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgZmVhdHVyZXMgPSBhd2FpdCBzcG90aWZ5LmdldEZlYXR1cmVzT2ZUcmFja3ModHJhY2tJZHMsIHRva2VuKTsgXHJcbiAgICAgICAgaWYoZmVhdHVyZXMuc3RhdHVzKSByZXMuc3RhdHVzKGZlYXR1cmVzLnN0YXR1cykuc2VuZChcIkNvdWxkbid0IGdldCB0aGUgZmVhdHVyZXM6IFwiICsgZmVhdHVyZXMuc3RhdHVzTWVzc2FnZSk7IFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZlYXR1cmVzKTsgXHJcbiAgICAgICAgZGF0YSA9IFtdOyBcclxuICAgICAgICBmZWF0dXJlcy5hdWRpb19mZWF0dXJlcy5mb3JFYWNoKChmKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuZXdEYXRhID0gW107IFxyXG4gICAgICAgICAgICBuZXdEYXRhLnB1c2goZi5kYW5jZWFiaWxpdHkpOyBcclxuICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGYuZW5lcmd5KTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKG5ld0RhdGEpOyBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOyBcclxuXHJcbiAgICAgICAgbnVtT2ZDbHVzdGVycyA9IE1hdGguY2VpbChkYXRhLmxlbmd0aC8zKTtcclxuICAgICAgICBjbHVzdGVyaW5nUmVzdWx0ID0gc2ttZWFucyhkYXRhLCBudW1PZkNsdXN0ZXJzKTsgXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0NsdXN0ZXJpbmcgcmVzdWx0OiAnKTsgXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2x1c3RlcmluZ1Jlc3VsdCk7IFxyXG5cclxuICAgICAgICBsZXQgY2x1c3RlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGkgPSAwOyBpPG51bU9mQ2x1c3RlcnM7IGkrKykge1xyXG4gICAgICAgICAgICBjbHVzdGVyc1tpXSA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmVhdHVyZXMuYXVkaW9fZmVhdHVyZXMubGVuZ3RoKTsgXHJcbiAgICAgICAgZm9yKGkgPSAwOyBpPGZlYXR1cmVzLmF1ZGlvX2ZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJzW2NsdXN0ZXJpbmdSZXN1bHQuaWR4c1tpXV0ucHVzaChmZWF0dXJlcy5hdWRpb19mZWF0dXJlc1tpXS51cmkpOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDbHVzdGVyczogJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2x1c3RlcnMpOyAgXHJcblxyXG4gICAgICAgIGxldCB0cmFja1VyaXMgPSBbXTsgXHJcbiAgICAgICAgY2x1c3RlcnMuZm9yRWFjaChjbHVzdGVyID0+IHtcclxuICAgICAgICAgICAgY2x1c3Rlci5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJhY2tVcmlzLnB1c2goZWxlbWVudCk7IFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdTb25ncyB1cmlzOiAnKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0cmFja1VyaXMpOyBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcmVwbGFjZW1lbnRSZXN1bHQgPSBhd2FpdCBzcG90aWZ5LnJlcGxhY2VQbGF5bGlzdFNvbmdzKHBsYXlsaXN0SWQsIHRyYWNrVXJpcywgdG9rZW4pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMocmVwbGFjZW1lbnRSZXN1bHQuc3RhdHVzKS5zZW5kKHJlcGxhY2VtZW50UmVzdWx0KTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcmVhcnJhbmdlUmVzdWx0ID0gYXdhaXQgbGlzdE1hbmFnZXIucmVhcnJhbmdlUGxheWxpc3QocGxheWxpc3RJZCwgdG9rZW4sIGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZWFycmFuZ2VSZXN1bHQpOyAgXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMocmVhcnJhbmdlUmVzdWx0LnN0YXR1cykuc2VuZChyZWFycmFuZ2VSZXN1bHQubWVzc2FnZSk7XHJcbiAgICAgICAgfSBcclxuICAgIH0pXHJcbiAgICAuZ2V0KGFzeW5jIChyZXEsIHJlcykgPT4gIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZ2V0IHJlcXVlc3Qgb24gL3BsYXlsaXN0Jyk7XHJcbiAgICAgICAgbGV0IHBhcnR5SWQgPSByZXEucXVlcnkucGFydHlJZDtcclxuICAgICAgICBsZXQgcGxheWxpc3RJZCA9IGRhdGFTZXJ2aWNlLmdldFBsYXlsaXN0SWQocGFydHlJZCk7XHJcbiAgICAgICAgbGV0IHRva2VuID0gZGF0YVNlcnZpY2UuZ2V0VG9rZW4ocGFydHlJZCk7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBzcG90aWZ5LmdldFBsYXlsaXN0SXRlbXMocGxheWxpc3RJZCwgdG9rZW4pO1xyXG4gICAgICAgIGlmKGRhdGEuc3RhdHVzKSByZXMuc3RhdHVzKGRhdGEuc3RhdHVzKS5zZW5kKGRhdGEuc3RhdHVzTWVzc2FnZSk7XHJcbiAgICAgICAgZWxzZSByZXMuc3RhdHVzKDIwMCkuc2VuZChkYXRhKTtcclxuICAgIH0pXHJcblxyXG5hcHAubGlzdGVuKDgxMjQsICgpID0+ICB7XHJcbiAgICBjb25zb2xlLmxvZygnc2VydmVyIHN0YXJ0ZWQgb24gcG9ydCA4MTI0Jyk7IFxyXG59KTsgXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDsgIl19